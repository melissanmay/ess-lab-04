[
  {
    "objectID": "ess-lab-04.html",
    "href": "ess-lab-04.html",
    "title": "Lab 4: LTER Network Data",
    "section": "",
    "text": "remotes::install_github(\"lter/lterdatasampler\")\n\nUsing GitHub PAT from the git credential store.\n\n\nSkipping install of 'lterdatasampler' from a github remote, the SHA1 (ff784768) has not changed since last install.\n  Use `force = TRUE` to force installation\n\n\n\n\n\n\nlibrary(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.4     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nlibrary(ggpubr)\n\nWarning: package 'ggpubr' was built under R version 4.4.3\n\nlibrary(lterdatasampler)\nlibrary(car)\n\nWarning: package 'car' was built under R version 4.4.3\n\n\nLoading required package: carData\n\n\nWarning: package 'carData' was built under R version 4.4.3\n\n\n\nAttaching package: 'car'\n\nThe following object is masked from 'package:dplyr':\n\n    recode\n\nThe following object is masked from 'package:purrr':\n\n    some\n\nlibrary(visdat)\n\nWarning: package 'visdat' was built under R version 4.4.3\n\n\n\n\n\n\n?and_vertebrates\n\nstarting httpd help server ... done\n\ndata(\"and_vertebrates\")\n\n\n\n\n\nglimpse(and_vertebrates)\n\nRows: 32,209\nColumns: 16\n$ year        &lt;dbl&gt; 1987, 1987, 1987, 1987, 1987, 1987, 1987, 1987, 1987, 1987…\n$ sitecode    &lt;chr&gt; \"MACKCC-L\", \"MACKCC-L\", \"MACKCC-L\", \"MACKCC-L\", \"MACKCC-L\"…\n$ section     &lt;chr&gt; \"CC\", \"CC\", \"CC\", \"CC\", \"CC\", \"CC\", \"CC\", \"CC\", \"CC\", \"CC\"…\n$ reach       &lt;chr&gt; \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\"…\n$ pass        &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…\n$ unitnum     &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2…\n$ unittype    &lt;chr&gt; \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\"…\n$ vert_index  &lt;dbl&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 1, …\n$ pitnumber   &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ species     &lt;chr&gt; \"Cutthroat trout\", \"Cutthroat trout\", \"Cutthroat trout\", \"…\n$ length_1_mm &lt;dbl&gt; 58, 61, 89, 58, 93, 86, 107, 131, 103, 117, 100, 127, 99, …\n$ length_2_mm &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ weight_g    &lt;dbl&gt; 1.75, 1.95, 5.60, 2.15, 6.90, 5.90, 10.50, 20.60, 9.55, 13…\n$ clip        &lt;chr&gt; \"NONE\", \"NONE\", \"NONE\", \"NONE\", \"NONE\", \"NONE\", \"NONE\", \"N…\n$ sampledate  &lt;date&gt; 1987-10-07, 1987-10-07, 1987-10-07, 1987-10-07, 1987-10-0…\n$ notes       &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n\n\n\nvis_dat(and_vertebrates)\n\n\n\n\n\n\n\n\n\n\n\n\nand_vertebrates |&gt; \n  filter(species == \"Cutthroat trout\") |&gt;\n  drop_na(unittype) |&gt;\n  count(unittype)\n\n# A tibble: 7 × 2\n  unittype     n\n  &lt;chr&gt;    &lt;int&gt;\n1 C        11419\n2 I           23\n3 IP         105\n4 P         5470\n5 R          420\n6 S            9\n7 SC        2377\n\n\n\ntrout_clean &lt;- and_vertebrates  |&gt;\n  filter(species == \"Cutthroat trout\") |&gt; \n  filter(unittype %in% c(\"C\", \"P\", \"SC\")) |&gt; \n  drop_na(unittype, section)\n\ncont_table &lt;- table(trout_clean$section, trout_clean$unittype)\n\nchisq.test(cont_table)\n\n\n    Pearson's Chi-squared test\n\ndata:  cont_table\nX-squared = 188.68, df = 2, p-value &lt; 2.2e-16\n\n\n\ntrout_clean  |&gt;  \n  count(unittype, section)  |&gt;  \n  ggpubr::ggbarplot(x = 'unittype', y = 'n', \n                    fill = 'section', \n                    palette = c(\"#00AFBB\", \"#E7B800\"),\n                    add = \"mean_se\")\n\nWarning in stats::qt(ci/2 + 0.5, data_sum$length - 1): NaNs produced\nWarning in stats::qt(ci/2 + 0.5, data_sum$length - 1): NaNs produced\nWarning in stats::qt(ci/2 + 0.5, data_sum$length - 1): NaNs produced\nWarning in stats::qt(ci/2 + 0.5, data_sum$length - 1): NaNs produced\nWarning in stats::qt(ci/2 + 0.5, data_sum$length - 1): NaNs produced\nWarning in stats::qt(ci/2 + 0.5, data_sum$length - 1): NaNs produced\n\n\n\n\n\n\n\n\n\n##T-Test: Compare Two Means\n\ntrout_clean |&gt; \n  drop_na(weight_g) |&gt; \n  ggpubr::ggviolin(x = \"section\", \n                   y     = \"weight_g\", \n                   add   = \"boxplot\",\n                   color = \"section\",\n                   palette = c(\"#00AFBB\", \"#E7B800\"))\n\n\n\n\n\n\n\n\n\ncc_weight &lt;- trout_clean |&gt; \n  filter(section == \"CC\") |&gt; \n  pull(weight_g)\n\nog_weight &lt;- trout_clean |&gt; \n  filter(section == \"OG\") |&gt; \n  pull(weight_g)\n\nvar.test(cc_weight, og_weight)\n\n\n    F test to compare two variances\n\ndata:  cc_weight and og_weight\nF = 1.2889, num df = 6310, denom df = 5225, p-value &lt; 2.2e-16\nalternative hypothesis: true ratio of variances is not equal to 1\n95 percent confidence interval:\n 1.223686 1.357398\nsample estimates:\nratio of variances \n          1.288892 \n\n\n\nggpubr::ggarrange(ggpubr::gghistogram(cc_weight, main = \"Clear Cut\"), \n              ggpubr::gghistogram(og_weight, main = \"Old Growth\"))\n\nWarning: Using `bins = 30` by default. Pick better value with the argument\n`bins`.\nWarning: Using `bins = 30` by default. Pick better value with the argument\n`bins`.\n\n\nWarning: Removed 4273 rows containing non-finite outside the scale range\n(`stat_bin()`).\n\n\nWarning: Removed 3456 rows containing non-finite outside the scale range\n(`stat_bin()`).\n\n\n\n\n\n\n\n\n\n\nvar.test(log(cc_weight), log(og_weight))\n\n\n    F test to compare two variances\n\ndata:  log(cc_weight) and log(og_weight)\nF = 1.0208, num df = 6310, denom df = 5225, p-value = 0.4374\nalternative hypothesis: true ratio of variances is not equal to 1\n95 percent confidence interval:\n 0.9691443 1.0750427\nsample estimates:\nratio of variances \n          1.020787 \n\n\n\nt.test(log(trout_clean$weight_g) ~ trout_clean$section, var.equal = TRUE)\n\n\n    Two Sample t-test\n\ndata:  log(trout_clean$weight_g) by trout_clean$section\nt = 2.854, df = 11535, p-value = 0.004324\nalternative hypothesis: true difference in means between group CC and group OG is not equal to 0\n95 percent confidence interval:\n 0.02222425 0.11969560\nsample estimates:\nmean in group CC mean in group OG \n        1.457042         1.386082 \n\n\n\nt.test(trout_clean$weight_g ~ trout_clean$section, var.equal = FALSE)\n\n\n    Welch Two Sample t-test\n\ndata:  trout_clean$weight_g by trout_clean$section\nt = 4.5265, df = 11491, p-value = 6.056e-06\nalternative hypothesis: true difference in means between group CC and group OG is not equal to 0\n95 percent confidence interval:\n 0.4642016 1.1733126\nsample estimates:\nmean in group CC mean in group OG \n        8.988807         8.170050 \n\n\n\nsally_clean &lt;- and_vertebrates |&gt; \n  filter(species == \"Coastal giant salamander\") |&gt; \n  drop_na(length_2_mm, weight_g)\n\nggarrange(gghistogram(sally_clean$length_2_mm, title = \"Length\"),\ngghistogram(sally_clean$weight_g, title = \"Weight\"))\n\nWarning: Using `bins = 30` by default. Pick better value with the argument\n`bins`.\nWarning: Using `bins = 30` by default. Pick better value with the argument\n`bins`.\n\n\n\n\n\n\n\n\n\n\ns &lt;- sally_clean |&gt; \n  slice_sample(n = 5000) \n\nshapiro.test(s$length_2_mm)\n\n\n    Shapiro-Wilk normality test\n\ndata:  s$length_2_mm\nW = 0.9313, p-value &lt; 2.2e-16\n\nshapiro.test(s$weight_g)\n\n\n    Shapiro-Wilk normality test\n\ndata:  s$weight_g\nW = 0.56014, p-value &lt; 2.2e-16\n\n\n\nggarrange(\n gghistogram(log(sally_clean$length_2_mm), title = \"Length\"), \n gghistogram(log(sally_clean$weight_g), title = \"Weight\") )\n\nWarning: Using `bins = 30` by default. Pick better value with the argument\n`bins`.\nWarning: Using `bins = 30` by default. Pick better value with the argument\n`bins`.\n\n\n\n\n\n\n\n\n\n\ncor.test(log(sally_clean$length_2_mm), log(sally_clean$weight_g))\n\n\n    Pearson's product-moment correlation\n\ndata:  log(sally_clean$length_2_mm) and log(sally_clean$weight_g)\nt = 402.85, df = 6229, p-value &lt; 2.2e-16\nalternative hypothesis: true correlation is not equal to 0\n95 percent confidence interval:\n 0.9804036 0.9822403\nsample estimates:\n      cor \n0.9813443 \n\n\n\nsally_clean |&gt; \n  mutate(log_length = log(length_2_mm), log_weight = log(weight_g)) |&gt; \n  ggscatter(x = 'log_length', \n            y = 'log_weight', \n            alpha = .35,\n            add = \"loess\")\n\n\n\n\n\n\n\ncor.test(sally_clean$length_2_mm, sally_clean$weight_g, method = \"spearman\")\n\nWarning in cor.test.default(sally_clean$length_2_mm, sally_clean$weight_g, :\nCannot compute exact p-value with ties\n\n\n\n    Spearman's rank correlation rho\n\ndata:  sally_clean$length_2_mm and sally_clean$weight_g\nS = 819296957, p-value &lt; 2.2e-16\nalternative hypothesis: true rho is not equal to 0\nsample estimates:\n      rho \n0.9796802"
  },
  {
    "objectID": "ess-lab-04.html#installing-lterdatasampler",
    "href": "ess-lab-04.html#installing-lterdatasampler",
    "title": "Lab 4: LTER Network Data",
    "section": "",
    "text": "remotes::install_github(\"lter/lterdatasampler\")\n\nUsing GitHub PAT from the git credential store.\n\n\nSkipping install of 'lterdatasampler' from a github remote, the SHA1 (ff784768) has not changed since last install.\n  Use `force = TRUE` to force installation"
  },
  {
    "objectID": "ess-lab-04.html#loading-in-libraries",
    "href": "ess-lab-04.html#loading-in-libraries",
    "title": "Lab 4: LTER Network Data",
    "section": "",
    "text": "library(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.4     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nlibrary(ggpubr)\n\nWarning: package 'ggpubr' was built under R version 4.4.3\n\nlibrary(lterdatasampler)\nlibrary(car)\n\nWarning: package 'car' was built under R version 4.4.3\n\n\nLoading required package: carData\n\n\nWarning: package 'carData' was built under R version 4.4.3\n\n\n\nAttaching package: 'car'\n\nThe following object is masked from 'package:dplyr':\n\n    recode\n\nThe following object is masked from 'package:purrr':\n\n    some\n\nlibrary(visdat)\n\nWarning: package 'visdat' was built under R version 4.4.3"
  },
  {
    "objectID": "ess-lab-04.html#retrieving-and_vertebrates",
    "href": "ess-lab-04.html#retrieving-and_vertebrates",
    "title": "Lab 4: LTER Network Data",
    "section": "",
    "text": "?and_vertebrates\n\nstarting httpd help server ... done\n\ndata(\"and_vertebrates\")"
  },
  {
    "objectID": "ess-lab-04.html#exploring-and_vertebrates",
    "href": "ess-lab-04.html#exploring-and_vertebrates",
    "title": "Lab 4: LTER Network Data",
    "section": "",
    "text": "glimpse(and_vertebrates)\n\nRows: 32,209\nColumns: 16\n$ year        &lt;dbl&gt; 1987, 1987, 1987, 1987, 1987, 1987, 1987, 1987, 1987, 1987…\n$ sitecode    &lt;chr&gt; \"MACKCC-L\", \"MACKCC-L\", \"MACKCC-L\", \"MACKCC-L\", \"MACKCC-L\"…\n$ section     &lt;chr&gt; \"CC\", \"CC\", \"CC\", \"CC\", \"CC\", \"CC\", \"CC\", \"CC\", \"CC\", \"CC\"…\n$ reach       &lt;chr&gt; \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\"…\n$ pass        &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…\n$ unitnum     &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2…\n$ unittype    &lt;chr&gt; \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\"…\n$ vert_index  &lt;dbl&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 1, …\n$ pitnumber   &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ species     &lt;chr&gt; \"Cutthroat trout\", \"Cutthroat trout\", \"Cutthroat trout\", \"…\n$ length_1_mm &lt;dbl&gt; 58, 61, 89, 58, 93, 86, 107, 131, 103, 117, 100, 127, 99, …\n$ length_2_mm &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ weight_g    &lt;dbl&gt; 1.75, 1.95, 5.60, 2.15, 6.90, 5.90, 10.50, 20.60, 9.55, 13…\n$ clip        &lt;chr&gt; \"NONE\", \"NONE\", \"NONE\", \"NONE\", \"NONE\", \"NONE\", \"NONE\", \"N…\n$ sampledate  &lt;date&gt; 1987-10-07, 1987-10-07, 1987-10-07, 1987-10-07, 1987-10-0…\n$ notes       &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n\n\n\nvis_dat(and_vertebrates)"
  },
  {
    "objectID": "ess-lab-04.html#chi-square-categorical-analysis",
    "href": "ess-lab-04.html#chi-square-categorical-analysis",
    "title": "Lab 4: LTER Network Data",
    "section": "",
    "text": "and_vertebrates |&gt; \n  filter(species == \"Cutthroat trout\") |&gt;\n  drop_na(unittype) |&gt;\n  count(unittype)\n\n# A tibble: 7 × 2\n  unittype     n\n  &lt;chr&gt;    &lt;int&gt;\n1 C        11419\n2 I           23\n3 IP         105\n4 P         5470\n5 R          420\n6 S            9\n7 SC        2377\n\n\n\ntrout_clean &lt;- and_vertebrates  |&gt;\n  filter(species == \"Cutthroat trout\") |&gt; \n  filter(unittype %in% c(\"C\", \"P\", \"SC\")) |&gt; \n  drop_na(unittype, section)\n\ncont_table &lt;- table(trout_clean$section, trout_clean$unittype)\n\nchisq.test(cont_table)\n\n\n    Pearson's Chi-squared test\n\ndata:  cont_table\nX-squared = 188.68, df = 2, p-value &lt; 2.2e-16\n\n\n\ntrout_clean  |&gt;  \n  count(unittype, section)  |&gt;  \n  ggpubr::ggbarplot(x = 'unittype', y = 'n', \n                    fill = 'section', \n                    palette = c(\"#00AFBB\", \"#E7B800\"),\n                    add = \"mean_se\")\n\nWarning in stats::qt(ci/2 + 0.5, data_sum$length - 1): NaNs produced\nWarning in stats::qt(ci/2 + 0.5, data_sum$length - 1): NaNs produced\nWarning in stats::qt(ci/2 + 0.5, data_sum$length - 1): NaNs produced\nWarning in stats::qt(ci/2 + 0.5, data_sum$length - 1): NaNs produced\nWarning in stats::qt(ci/2 + 0.5, data_sum$length - 1): NaNs produced\nWarning in stats::qt(ci/2 + 0.5, data_sum$length - 1): NaNs produced\n\n\n\n\n\n\n\n\n\n##T-Test: Compare Two Means\n\ntrout_clean |&gt; \n  drop_na(weight_g) |&gt; \n  ggpubr::ggviolin(x = \"section\", \n                   y     = \"weight_g\", \n                   add   = \"boxplot\",\n                   color = \"section\",\n                   palette = c(\"#00AFBB\", \"#E7B800\"))\n\n\n\n\n\n\n\n\n\ncc_weight &lt;- trout_clean |&gt; \n  filter(section == \"CC\") |&gt; \n  pull(weight_g)\n\nog_weight &lt;- trout_clean |&gt; \n  filter(section == \"OG\") |&gt; \n  pull(weight_g)\n\nvar.test(cc_weight, og_weight)\n\n\n    F test to compare two variances\n\ndata:  cc_weight and og_weight\nF = 1.2889, num df = 6310, denom df = 5225, p-value &lt; 2.2e-16\nalternative hypothesis: true ratio of variances is not equal to 1\n95 percent confidence interval:\n 1.223686 1.357398\nsample estimates:\nratio of variances \n          1.288892 \n\n\n\nggpubr::ggarrange(ggpubr::gghistogram(cc_weight, main = \"Clear Cut\"), \n              ggpubr::gghistogram(og_weight, main = \"Old Growth\"))\n\nWarning: Using `bins = 30` by default. Pick better value with the argument\n`bins`.\nWarning: Using `bins = 30` by default. Pick better value with the argument\n`bins`.\n\n\nWarning: Removed 4273 rows containing non-finite outside the scale range\n(`stat_bin()`).\n\n\nWarning: Removed 3456 rows containing non-finite outside the scale range\n(`stat_bin()`).\n\n\n\n\n\n\n\n\n\n\nvar.test(log(cc_weight), log(og_weight))\n\n\n    F test to compare two variances\n\ndata:  log(cc_weight) and log(og_weight)\nF = 1.0208, num df = 6310, denom df = 5225, p-value = 0.4374\nalternative hypothesis: true ratio of variances is not equal to 1\n95 percent confidence interval:\n 0.9691443 1.0750427\nsample estimates:\nratio of variances \n          1.020787 \n\n\n\nt.test(log(trout_clean$weight_g) ~ trout_clean$section, var.equal = TRUE)\n\n\n    Two Sample t-test\n\ndata:  log(trout_clean$weight_g) by trout_clean$section\nt = 2.854, df = 11535, p-value = 0.004324\nalternative hypothesis: true difference in means between group CC and group OG is not equal to 0\n95 percent confidence interval:\n 0.02222425 0.11969560\nsample estimates:\nmean in group CC mean in group OG \n        1.457042         1.386082 \n\n\n\nt.test(trout_clean$weight_g ~ trout_clean$section, var.equal = FALSE)\n\n\n    Welch Two Sample t-test\n\ndata:  trout_clean$weight_g by trout_clean$section\nt = 4.5265, df = 11491, p-value = 6.056e-06\nalternative hypothesis: true difference in means between group CC and group OG is not equal to 0\n95 percent confidence interval:\n 0.4642016 1.1733126\nsample estimates:\nmean in group CC mean in group OG \n        8.988807         8.170050 \n\n\n\nsally_clean &lt;- and_vertebrates |&gt; \n  filter(species == \"Coastal giant salamander\") |&gt; \n  drop_na(length_2_mm, weight_g)\n\nggarrange(gghistogram(sally_clean$length_2_mm, title = \"Length\"),\ngghistogram(sally_clean$weight_g, title = \"Weight\"))\n\nWarning: Using `bins = 30` by default. Pick better value with the argument\n`bins`.\nWarning: Using `bins = 30` by default. Pick better value with the argument\n`bins`.\n\n\n\n\n\n\n\n\n\n\ns &lt;- sally_clean |&gt; \n  slice_sample(n = 5000) \n\nshapiro.test(s$length_2_mm)\n\n\n    Shapiro-Wilk normality test\n\ndata:  s$length_2_mm\nW = 0.9313, p-value &lt; 2.2e-16\n\nshapiro.test(s$weight_g)\n\n\n    Shapiro-Wilk normality test\n\ndata:  s$weight_g\nW = 0.56014, p-value &lt; 2.2e-16\n\n\n\nggarrange(\n gghistogram(log(sally_clean$length_2_mm), title = \"Length\"), \n gghistogram(log(sally_clean$weight_g), title = \"Weight\") )\n\nWarning: Using `bins = 30` by default. Pick better value with the argument\n`bins`.\nWarning: Using `bins = 30` by default. Pick better value with the argument\n`bins`.\n\n\n\n\n\n\n\n\n\n\ncor.test(log(sally_clean$length_2_mm), log(sally_clean$weight_g))\n\n\n    Pearson's product-moment correlation\n\ndata:  log(sally_clean$length_2_mm) and log(sally_clean$weight_g)\nt = 402.85, df = 6229, p-value &lt; 2.2e-16\nalternative hypothesis: true correlation is not equal to 0\n95 percent confidence interval:\n 0.9804036 0.9822403\nsample estimates:\n      cor \n0.9813443 \n\n\n\nsally_clean |&gt; \n  mutate(log_length = log(length_2_mm), log_weight = log(weight_g)) |&gt; \n  ggscatter(x = 'log_length', \n            y = 'log_weight', \n            alpha = .35,\n            add = \"loess\")\n\n\n\n\n\n\n\ncor.test(sally_clean$length_2_mm, sally_clean$weight_g, method = \"spearman\")\n\nWarning in cor.test.default(sally_clean$length_2_mm, sally_clean$weight_g, :\nCannot compute exact p-value with ties\n\n\n\n    Spearman's rank correlation rho\n\ndata:  sally_clean$length_2_mm and sally_clean$weight_g\nS = 819296957, p-value &lt; 2.2e-16\nalternative hypothesis: true rho is not equal to 0\nsample estimates:\n      rho \n0.9796802"
  },
  {
    "objectID": "ess-lab-04.html#question-1",
    "href": "ess-lab-04.html#question-1",
    "title": "Lab 4: LTER Network Data",
    "section": "Question 1:",
    "text": "Question 1:\n\nsalamander_data &lt;- and_vertebrates %&gt;%\n  filter(species == \"Coastal giant salamander\")\n\nsalamander_table &lt;- table(salamander_data$section, salamander_data$unittype)\n\nchi_result &lt;- chisq.test(salamander_table)\n\nWarning in chisq.test(salamander_table): Chi-squared approximation may be\nincorrect\n\nchi_result\n\n\n    Pearson's Chi-squared test\n\ndata:  salamander_table\nX-squared = 200.71, df = 5, p-value &lt; 2.2e-16"
  },
  {
    "objectID": "ess-lab-04.html#question-2",
    "href": "ess-lab-04.html#question-2",
    "title": "Lab 4: LTER Network Data",
    "section": "Question 2:",
    "text": "Question 2:\n\nbiomass_data &lt;- and_vertebrates %&gt;%\n  filter(species == \"Coastal giant salamander\", section %in% c(\"CC\", \"OG\"))\n\nt_test_result &lt;- t.test(weight_g ~ section, data = biomass_data)\n\nprint(t_test_result)\n\n\n    Welch Two Sample t-test\n\ndata:  weight_g by section\nt = 4.9255, df = 6335.9, p-value = 8.629e-07\nalternative hypothesis: true difference in means between group CC and group OG is not equal to 0\n95 percent confidence interval:\n 0.8978633 2.0850725\nsample estimates:\nmean in group CC mean in group OG \n        9.810634         8.319166"
  },
  {
    "objectID": "ess-lab-04.html#question-3",
    "href": "ess-lab-04.html#question-3",
    "title": "Lab 4: LTER Network Data",
    "section": "Question 3:",
    "text": "Question 3:\n\nsummary(and_vertebrates[, c(\"length_1_mm\", \"length_2_mm\")])\n\n  length_1_mm      length_2_mm   \n Min.   : 19.00   Min.   : 28.0  \n 1st Qu.: 47.00   1st Qu.: 77.0  \n Median : 63.00   Median : 98.0  \n Mean   : 73.83   Mean   :100.5  \n 3rd Qu.: 97.00   3rd Qu.:119.0  \n Max.   :253.00   Max.   :284.0  \n NA's   :17       NA's   :19649  \n\n\n\ntrout_data &lt;- and_vertebrates %&gt;%\n  filter(species == \"Cutthroat trout\")\n\ncorrelation_result &lt;- cor.test(trout_data$length_1_mm, trout_data$weight_g, use = \"complete.obs\")\n\nprint(correlation_result)\n\n\n    Pearson's product-moment correlation\n\ndata:  trout_data$length_1_mm and trout_data$weight_g\nt = 249.5, df = 12590, p-value &lt; 2.2e-16\nalternative hypothesis: true correlation is not equal to 0\n95 percent confidence interval:\n 0.9090311 0.9149092\nsample estimates:\n     cor \n0.912017"
  },
  {
    "objectID": "ess-lab-04.html#installing-car",
    "href": "ess-lab-04.html#installing-car",
    "title": "Lab 4: LTER Network Data",
    "section": "Installing car",
    "text": "Installing car\n\ninstall.packages(\"car\")\n\nWarning: package 'car' is in use and will not be installed\n\n??car"
  },
  {
    "objectID": "ess-lab-04.html#loading-the-data",
    "href": "ess-lab-04.html#loading-the-data",
    "title": "Lab 4: LTER Network Data",
    "section": "Loading the data",
    "text": "Loading the data\n\ndata(\"pie_crab\")"
  },
  {
    "objectID": "ess-lab-04.html#exploring-the-data",
    "href": "ess-lab-04.html#exploring-the-data",
    "title": "Lab 4: LTER Network Data",
    "section": "Exploring the data",
    "text": "Exploring the data\n\nglimpse(pie_crab)\n\nRows: 392\nColumns: 9\n$ date          &lt;date&gt; 2016-07-24, 2016-07-24, 2016-07-24, 2016-07-24, 2016-07…\n$ latitude      &lt;dbl&gt; 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, …\n$ site          &lt;chr&gt; \"GTM\", \"GTM\", \"GTM\", \"GTM\", \"GTM\", \"GTM\", \"GTM\", \"GTM\", …\n$ size          &lt;dbl&gt; 12.43, 14.18, 14.52, 12.94, 12.45, 12.99, 10.32, 11.19, …\n$ air_temp      &lt;dbl&gt; 21.792, 21.792, 21.792, 21.792, 21.792, 21.792, 21.792, …\n$ air_temp_sd   &lt;dbl&gt; 6.391, 6.391, 6.391, 6.391, 6.391, 6.391, 6.391, 6.391, …\n$ water_temp    &lt;dbl&gt; 24.502, 24.502, 24.502, 24.502, 24.502, 24.502, 24.502, …\n$ water_temp_sd &lt;dbl&gt; 6.121, 6.121, 6.121, 6.121, 6.121, 6.121, 6.121, 6.121, …\n$ name          &lt;chr&gt; \"Guana Tolomoto Matanzas NERR\", \"Guana Tolomoto Matanzas…\n\n\n\nvis_dat(pie_crab)\n\n\n\n\n\n\n\n\n\n?pie_crab\n\n\ncount(pie_crab, site)\n\n# A tibble: 13 × 2\n   site      n\n   &lt;chr&gt; &lt;int&gt;\n 1 BC       37\n 2 CC       27\n 3 CT       33\n 4 DB       30\n 5 GTM      28\n 6 JC       30\n 7 NB       29\n 8 NIB      30\n 9 PIE      28\n10 RC       25\n11 SI       30\n12 VCR      30\n13 ZI       35\n\n\n\nsummary(pie_crab)\n\n      date               latitude         site                size      \n Min.   :2016-07-24   Min.   :30.00   Length:392         Min.   : 6.64  \n 1st Qu.:2016-07-28   1st Qu.:34.00   Class :character   1st Qu.:12.02  \n Median :2016-08-01   Median :39.10   Mode  :character   Median :14.44  \n Mean   :2016-08-02   Mean   :37.69                      Mean   :14.66  \n 3rd Qu.:2016-08-09   3rd Qu.:41.60                      3rd Qu.:17.34  \n Max.   :2016-08-13   Max.   :42.70                      Max.   :23.43  \n    air_temp      air_temp_sd      water_temp    water_temp_sd  \n Min.   :10.29   Min.   :6.391   Min.   :13.98   Min.   :4.838  \n 1st Qu.:12.05   1st Qu.:8.110   1st Qu.:14.33   1st Qu.:6.567  \n Median :13.93   Median :8.410   Median :17.50   Median :6.998  \n Mean   :15.20   Mean   :8.654   Mean   :17.65   Mean   :7.252  \n 3rd Qu.:18.63   3rd Qu.:9.483   3rd Qu.:20.54   3rd Qu.:7.865  \n Max.   :21.79   Max.   :9.965   Max.   :24.50   Max.   :9.121  \n     name          \n Length:392        \n Class :character  \n Mode  :character"
  },
  {
    "objectID": "ess-lab-04.html#anova",
    "href": "ess-lab-04.html#anova",
    "title": "Lab 4: LTER Network Data",
    "section": "ANOVA",
    "text": "ANOVA\n\npie_crab |&gt; \n  ggboxplot(x = 'site', y = 'size', col = 'site') +\n  geom_jitter(size =.25) + \n  theme(legend.postition = \"none\")\n\nWarning in plot_theme(plot): The `legend.postition` theme element is not\ndefined in the element hierarchy.\n\n\n\n\n\n\n\n\n\n\nnorms &lt;- pie_crab |&gt; \n  nest(data = -site) |&gt;\n  mutate(Shapiro = map(data, ~ shapiro.test(.x$size)),\n         n = map_dbl(data, nrow),\n         glance_shapiro = map(Shapiro, broom::glance)) |&gt;\n  unnest(glance_shapiro)\n\nflextable::flextable(dplyr::select(norms, site, n, statistic, p.value)) |&gt;\n  flextable::set_caption(\"Shapiro-Wilk normality test for size at each site\")\n\nsitenstatisticp.valueGTM280.90078140.0119337484SI300.97053520.5539208550NIB300.97282970.6191340731ZI350.97445830.5765589900RC250.93150620.0941588802VCR300.94446820.1200262239DB300.95762710.2690631942JC300.96347540.3788327942CT330.92773650.0301785639NB290.96753670.4949587443CC270.93546590.0941803007BC370.88857210.0014402753PIE280.84893990.0008899392\n\n\n\n(res_aov &lt;- aov(size ~ site, data = pie_crab))\n\nCall:\n   aov(formula = size ~ site, data = pie_crab)\n\nTerms:\n                    site Residuals\nSum of Squares  2172.376  2626.421\nDeg. of Freedom       12       379\n\nResidual standard error: 2.632465\nEstimated effects may be unbalanced\n\n\n\ngghistogram(res_aov$residuals)\n\nWarning: Using `bins = 30` by default. Pick better value with the argument\n`bins`.\n\n\n\n\n\n\n\n\n\n\nshapiro.test(res_aov$residuals)\n\n\n    Shapiro-Wilk normality test\n\ndata:  res_aov$residuals\nW = 0.99708, p-value = 0.7122\n\n\n\nleveneTest(size ~ site, data = pie_crab)\n\nWarning in leveneTest.default(y = y, group = group, ...): group coerced to\nfactor.\n\n\nLevene's Test for Homogeneity of Variance (center = median)\n       Df F value    Pr(&gt;F)    \ngroup  12  9.2268 1.151e-15 ***\n      379                      \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n\n\noneway.test(size ~ site, data = pie_crab, var.equal = FALSE)\n\n\n    One-way analysis of means (not assuming equal variances)\n\ndata:  size and site\nF = 39.108, num df = 12.00, denom df = 145.79, p-value &lt; 2.2e-16\n\n\n\npie_sites &lt;- pie_crab |&gt; \n  filter(site %in% c(\"GTM\", \"DB\", \"PIE\"))\n\nleveneTest(size ~ site, data = pie_sites)\n\nWarning in leveneTest.default(y = y, group = group, ...): group coerced to\nfactor.\n\n\nLevene's Test for Homogeneity of Variance (center = median)\n      Df F value Pr(&gt;F)\ngroup  2   0.548 0.5802\n      83               \n\n\n\npie_anova &lt;- aov(size ~ site, data = pie_sites)\n\nsummary(pie_anova)\n\n            Df Sum Sq Mean Sq F value Pr(&gt;F)    \nsite         2  521.5  260.75   60.02 &lt;2e-16 ***\nResiduals   83  360.6    4.34                   \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1"
  },
  {
    "objectID": "ess-lab-04.html#post-hoc-tukeys-hsd-test",
    "href": "ess-lab-04.html#post-hoc-tukeys-hsd-test",
    "title": "Lab 4: LTER Network Data",
    "section": "Post-Hoc Tukey’s HSD Test",
    "text": "Post-Hoc Tukey’s HSD Test\n\nTukeyHSD(pie_anova)\n\n  Tukey multiple comparisons of means\n    95% family-wise confidence level\n\nFit: aov(formula = size ~ site, data = pie_sites)\n\n$site\n             diff       lwr       upr   p adj\nGTM-DB  -3.200786 -4.507850 -1.893722 3.0e-07\nPIE-DB   2.899929  1.592865  4.206992 2.9e-06\nPIE-GTM  6.100714  4.771306  7.430123 0.0e+00\n\n\n\npie_lm &lt;- lm(size ~ latitude, data = pie_crab)\n\nsummary(pie_lm)\n\n\nCall:\nlm(formula = size ~ latitude, data = pie_crab)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-7.8376 -1.8797  0.1144  1.9484  6.9280 \n\nCoefficients:\n            Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept) -3.62442    1.27405  -2.845  0.00468 ** \nlatitude     0.48512    0.03359  14.441  &lt; 2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 2.832 on 390 degrees of freedom\nMultiple R-squared:  0.3484,    Adjusted R-squared:  0.3467 \nF-statistic: 208.5 on 1 and 390 DF,  p-value: &lt; 2.2e-16\n\n\n\npie_crab |&gt; \n  ggscatter(x = 'latitude', y = 'size', \n            alpha = .35, \n            add = \"reg.line\")"
  },
  {
    "objectID": "ess-lab-04.html#predictions-using-a-regression-model",
    "href": "ess-lab-04.html#predictions-using-a-regression-model",
    "title": "Lab 4: LTER Network Data",
    "section": "Predictions Using a Regression Model",
    "text": "Predictions Using a Regression Model\n\nnew_lat &lt;- data.frame(latitude = c(32, 36, 38))\n\nbroom::augment(pie_lm, newdata = new_lat)\n\n# A tibble: 3 × 2\n  latitude .fitted\n     &lt;dbl&gt;   &lt;dbl&gt;\n1       32    11.9\n2       36    13.8\n3       38    14.8"
  },
  {
    "objectID": "ess-lab-04.html#multiple-linear-regression",
    "href": "ess-lab-04.html#multiple-linear-regression",
    "title": "Lab 4: LTER Network Data",
    "section": "Multiple Linear Regression",
    "text": "Multiple Linear Regression\n\npie_mlm &lt;- lm(size ~ latitude + air_temp + water_temp, data = pie_crab)\n\nsummary(pie_mlm)\n\n\nCall:\nlm(formula = size ~ latitude + air_temp + water_temp, data = pie_crab)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-8.7099 -1.7195 -0.0602  1.7823  7.7271 \n\nCoefficients:\n            Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)  77.7460    17.3477   4.482 9.76e-06 ***\nlatitude     -1.0587     0.3174  -3.336 0.000933 ***\nair_temp     -2.4041     0.3844  -6.255 1.05e-09 ***\nwater_temp    0.7563     0.1465   5.162 3.92e-07 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 2.677 on 388 degrees of freedom\nMultiple R-squared:  0.4206,    Adjusted R-squared:  0.4161 \nF-statistic:  93.9 on 3 and 388 DF,  p-value: &lt; 2.2e-16\n\n\n\npie_crab |&gt; \n  dplyr::select(latitude, air_temp, water_temp) |&gt; \n  cor()\n\n             latitude   air_temp water_temp\nlatitude    1.0000000 -0.9949715 -0.9571738\nair_temp   -0.9949715  1.0000000  0.9632287\nwater_temp -0.9571738  0.9632287  1.0000000"
  },
  {
    "objectID": "ess-lab-04.html#question-1-1",
    "href": "ess-lab-04.html#question-1-1",
    "title": "Lab 4: LTER Network Data",
    "section": "Question 1:",
    "text": "Question 1:\n\nlibrary(ggplot2)\n\npie_crab$site &lt;- reorder(pie_crab$site, pie_crab$latitude, FUN = mean)\n\nggplot(pie_crab, aes(x = site, y = size)) +\n  geom_boxplot() +\n  labs(x = \"Site (Ordered by Latitude)\", y = \"Carapace Width (mm)\", title = \"Carapace Width by Site\") +\n  theme_minimal()"
  },
  {
    "objectID": "ess-lab-04.html#question-2-1",
    "href": "ess-lab-04.html#question-2-1",
    "title": "Lab 4: LTER Network Data",
    "section": "Question 2:",
    "text": "Question 2:\n\nlm_water &lt;- lm(size ~ water_temp_sd, data = pie_crab)\n\nsummary(lm_water)\n\n\nCall:\nlm(formula = size ~ water_temp_sd, data = pie_crab)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-7.9428 -2.6948 -0.2145  2.6573  8.8070 \n\nCoefficients:\n              Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)   13.93728    1.15338  12.084   &lt;2e-16 ***\nwater_temp_sd  0.09938    0.15716   0.632    0.528    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 3.506 on 390 degrees of freedom\nMultiple R-squared:  0.001024,  Adjusted R-squared:  -0.001537 \nF-statistic: 0.3999 on 1 and 390 DF,  p-value: 0.5275\n\nggplot(pie_crab, aes(x = water_temp_sd, y = size)) +\n  geom_point(alpha = 0.5) +\n  geom_smooth(method = \"lm\", col = \"blue\") +\n  labs(x = \"Water Temp SD\", y = \"Carapace Width\", title = \"Effect of Water Temp SD on Carapace Width\") +\n  theme_minimal()\n\n`geom_smooth()` using formula = 'y ~ x'"
  },
  {
    "objectID": "ess-lab-04.html#question-3-1",
    "href": "ess-lab-04.html#question-3-1",
    "title": "Lab 4: LTER Network Data",
    "section": "Question 3:",
    "text": "Question 3:\n\ncor_matrix &lt;- cor(pie_crab[, c(\"latitude\", \"air_temp_sd\", \"water_temp_sd\")])\nprint(cor_matrix)\n\n                latitude air_temp_sd water_temp_sd\nlatitude      1.00000000   0.7932130    0.04188273\nair_temp_sd   0.79321301   1.0000000    0.40970338\nwater_temp_sd 0.04188273   0.4097034    1.00000000\n\nlm_multiple &lt;- lm(size ~ latitude + air_temp_sd + water_temp_sd, data = pie_crab)\n\nsummary(lm_multiple)\n\n\nCall:\nlm(formula = size ~ latitude + air_temp_sd + water_temp_sd, data = pie_crab)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-7.7515 -1.8897  0.0506  1.9301  6.6746 \n\nCoefficients:\n              Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)   -3.96880    1.54818  -2.564   0.0107 *  \nlatitude       0.55940    0.06413   8.723   &lt;2e-16 ***\nair_temp_sd   -0.41713    0.30559  -1.365   0.1730    \nwater_temp_sd  0.15927    0.16174   0.985   0.3254    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 2.832 on 388 degrees of freedom\nMultiple R-squared:  0.3516,    Adjusted R-squared:  0.3466 \nF-statistic: 70.13 on 3 and 388 DF,  p-value: &lt; 2.2e-16"
  }
]